# Project Tasks

## Current Task: User Authentication Implementation

**Цель:** Реализовать функционал авторизации пользователя, следуя принципам "Маленькие блоки" и строгим правилам разработки.

**Текущий статус:** Проект находится в чистом состоянии после отката, модуль Health полностью функционален, все предыдущие попытки реализации NextAuth удалены.

### Следующие шаги:

### Завершенные задачи:

- [x] **Очистка кода:**
  - [x] Убрать hardcoded значения и восстановить правильное чтение env переменных в `lib/supabase/client.ts`.

### Следующие шаги:

- [ ] **Планирование архитектуры авторизации:**
  - [ ] Определить необходимые провайдеры аутентификации (Google, Apple, Email).
  - [ ] Спроектировать схему базы данных для пользователей и сессий (если еще не сделано).
  - [ ] Определить необходимые API маршруты для аутентификации.
- [ ] **Пошаговая реализация NextAuth:**
  - [ ] Установить необходимые пакеты NextAuth.
  - [ ] Настроить базовый `[...nextauth]/route.ts` с одним провайдером (например, Email).
  - [ ] Создать минимальную страницу входа (`app/auth/signin/page.tsx`).
  - [ ] Протестировать локально.
  - [ ] Создать точку восстановления.
- [ ] **Добавление дополнительных провайдеров:**
  - [ ] Интегрировать Google провайдер.
  - [ ] Интегрировать Apple провайдер.
  - [ ] Протестировать каждый провайдер локально.
  - [ ] Создать точки восстановления после каждого успешного добавления.
- [ ] **Интеграция с UI:**
  - [ ] Обновить `app/layout.tsx` для использования `SessionProvider`.
  - [ ] Обновить `app/page.tsx` для отображения состояния аутентификации и кнопок входа/выхода.
  - [ ] Протестировать UI локально.
  - [ ] Создать точку восстановления.
- [ ] **Деплой и верификация на Vercel:**
  - [ ] Развернуть приложение на Vercel.
  - [ ] Проверить работоспособность всех методов аутентификации на Vercel.
  - [ ] Убедиться, что API routes работают корректно.
